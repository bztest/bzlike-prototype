Исходные требования
-------------------
Есть множество запросов для отложенной отправки (порядки миллионов).
 Необходимо уметь забирать запросы, которые надо отправить.
 И необходимо уметь изменять запросы. Время отправки также может изменяться.

Реализация
----------
TreeMap с компаратором по времени и затем по айдишнику.
 Это позволит легко забирать данные в порядке времени отправки и в то же время можно легко достать
 нужный запрос, изменить и поместить заново.

Чтобы апдейтить не зная время отправки (только по id), нужно еще добавить мэппинг id -> Post.
 Места это особо не займет.

После выдачи запросов предполагается, что будет формирование настоящего запроса для отправки
 (с забором соответствующих данных из баз и т.д.). Скорее всего, лучше сделать еще финальную
 очередь отправки уже сформированных запросов без возможности редактирования. А из этой структуры забирать всё, что надо отправить, скажем,
 в следующую минуту.

Производительность
------------------
10 миллионов запросов в текущем виде влазят в 800 мб оперативки. Инициализация структуры
 занимает 34 секунды, деплой всех постов уходит за 3 секунды.
 Посты раскиданы по времени как за один день и выбираются как посты, которые надо отправить за минуту.

лог

    0 [main] INFO bzlike.QueryPrototypeTest  - Init time: 0.118 \
    1 [main] INFO bzlike.QueryPrototypeTest  - Memory usage: 21 mb
    102 [main] INFO bzlike.QueryPrototypeTest  - Posts deployed, time: 0.101
    102 [main] INFO bzlike.QueryPrototypeTest  - deployed: 100000
    102 [main] INFO bzlike.QueryPrototypeTest  - acc: 4999950000
    34726 [main] INFO bzlike.QueryPrototypeTest  - Init time: 34.624
    34726 [main] INFO bzlike.QueryPrototypeTest  - Memory usage: 801 mb
    37476 [main] INFO bzlike.QueryPrototypeTest  - Posts deployed, time: 2.75
    37476 [main] INFO bzlike.QueryPrototypeTest  - deployed: 10000000
    37476 [main] INFO bzlike.QueryPrototypeTest  - acc: 49999995000000
